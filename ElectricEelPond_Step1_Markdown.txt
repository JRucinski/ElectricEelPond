Electric Eelpond
================
---

##Step 1

###Overview:
Electric Eelpond Step 1 trims, interleaves, and quality filters 

###The Command Arguments:
* `-h`, `--help`

    Display help message and exit.

* `-m`, `--msu`

    Indicate using Michigan State University file naming convention.  Only valid in absence of `-c`. Default option.

    Example Michigan State University file name: `NAR_I_EO_AGTCAA_L001_R1_001.fastq.gz`

* `-c`, `--cornell`

    Indicate using Cornell University file naming convention.  Only valid in absence of `-m`.
    
    Example Cornell file name: `468_3676_4104_N_PKINGN_6898_CCGTCC_R1.fastq.gz`

* `-s`, `--split`

    Split paired reads into R1 and R2 files after quality filtering.

* `-d`, `--inputdir <path>`

   Name of input directory where files are located.

* `-o`, `--outputdir <path>`

    Name of output directory.  Does not have to exist prior to runtime.

* `-t`, `--threads <int>` 

    Number of threads requested.  Enter as a digit. Incorrect syntax will result in an error message followed by termination of the program.  Default is 1 thread.

* `-r`, `--reqmem <int>`

    Gb of memory requested.  Enter as a digit. Incorrect syntax will result in an error message followed by termination of the program. Default is 12Gb.

* `-w`, `--walltime <(h)h:mm:ss>`

    Estimated time required for job.  Enter as "(h)h:mm:ss".  Incorrect syntax will result in an error message followed by termination of the program. Default is 4:00:00.

###The Process:

Electric Eelpond Step 1 requires an input of a directory containing the fastq.gz files and returns quality trimmed and filtered gzipped files in the designated output directory.

1. Creating the receipt

    Step 1 will create a new text file named "receipt.txt" and save it to the output directory after documenting the date and time.

2. Concatenating lanes

    Step 1 will check for multiple lanes according to either the Michigan State University or Cornell University naming convention of fastq.gz files. Enter flag `-m` (or `--msu`) to indicate Michigan State University naming convention or `-c` (or `--cornell`) to indicate Cornell University naming convention.  Use of both `-m` and `-c` flags in the same command will result in an error message followed by termination of the program. Michigan State University convention will default when neither `-m` nor `-c` flags are specified in the command. If multiple lanes of a similar sample are found, Step 1 will concatenate the files together after prompting the user for confirmation of the concatenation process.  All prompts and responses will be written to the receipt.

3. Writing the qsub script and submitting the job

    After appropriate files have been concatenated, Step 1 will sort the files into R1 and R2 files and create a .qsub submission script.  The .qsub file will be named according to sample name and saved in the output directory.
    Using the `-t`, `-r`, and `-w` flags in the command allows customization of number of cores, required memory, and walltime needed to complete the job.  Default number of cores is 1, default memory is 12Gb, and default walltime is 4 hours.  This information will be written to the receipt.
    ####The qsub commands:
      * Trimmomatic removes adapter sequences.
      * Interleaves paired ends.
      * Concatenates orphaned reads.
      * Quality filter paired and single-end reads.
      * Remove remaining orphaned reads.
      * Cleans up directory such that only receipt.txt, `*.pe.qc.fq.gz`, and `*.se.qc.fq.gz` remain.
      * If `-s` is called in command, splits paired reads (`*.pe.qc.fq.gz`) into R1 and R2 files. 

    Errors and outputs from each command in the qsub will be written to the receipt.
